<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title></title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="css/normalize.min.css">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/custom.css">

	<script src="build/app.libs.js" type="text/javascript"></script>
	<script src="build/app.js" type="text/javascript"></script>

</head>
<body>
<!--[if lt IE 7]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> to improve your experience.</p>
<![endif]-->

<div class="full-body">
	<div class="logo-wrap">
		<div class="logo">
			xxx aaa
		</div>
	</div>
</div>


<div id="xxx"></div>
<div id="example"></div>
<div id="user"></div>
<div id="test">TEST</div>

<script>
	var xxx = {};

	xxx.controller = function () {
		var items = [];
		for (var i = 0; i < 10000; i++) {
			items.push({
				title: 'Foo Bar ' + i
			})
		}
		this.aa = items;
		this.c = 1;
	};
	xxx.view = function (controller) {
		return m("div", {style: "position:fixed;left: 900px"}, [
			m("span", controller.c),
			controller.aa.map(function (item) {
				return m("span", controller.c);
			})
		]);
	};

	m.route.mode = "hash";
	m.route(document.getElementById("xxx"), "/", {
		"/": index,
		"/album/:name": album
	});


	//yes, window.innerHeight is a data source, so it goes in the model
	window.addEventListener("scroll", function (e) {
		ui.state.xxx(Math.max(e.pageY || window.pageYOffset, 0));
//		app.state.pageY = Math.max(e.pageY || window.pageYOffset, 0);
//		app.state.pageHeight = window.innerHeight;
//		console.log(window.innerHeight, app.state.pageY)

		var x = new ui.controller();
//		m.render(document.getElementById("example"), ui.view(x))

	});


	var ui = {};

	ui.state = {xxx: m.prop(0)};
	ui.controller = function () {

	};

	ui.view = function () {
		return m("div", {style: "position:fixed;left: 300px"}, "jkbnasdjbas" + ui.state.xxx());
	};

	//	m.module(document.getElementById("example"), ui)
</script>


<div style="margin-top: 0">
dfsd;kfnsdkl;f
	<div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div>
<div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div>
<div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div>
<div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div>
<div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div><div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
<div>d</div>
</div>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
	(function (b, o, i, l, e, r) {
		b.GoogleAnalyticsObject = l;
		b[l] || (b[l] =
				function () {
					(b[l].q = b[l].q || []).push(arguments)
				});
		b[l].l = +new Date;
		e = o.createElement(i);
		r = o.getElementsByTagName(i)[0];
		e.src = '//www.google-analytics.com/analytics.js';
		r.parentNode.insertBefore(e, r)
	}(window, document, 'script', 'ga'));
	ga('create', 'UA-XXXXX-X');
	ga('send', 'pageview');
</script>
</body>
</html>
